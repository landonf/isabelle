Poly/ML for Isabelle
====================

This compilation of Poly/ML 5.7.1 (http://www.polyml.org) is based on the
source distribution from https://github.com/polyml/polyml/releases/tag/v5.7.1

The Isabelle repository provides the administrative tool "build_polyml",
which can be used in the polyml component directory as follows.

* Linux:

  $ isabelle build_polyml -m32 -s sha1 src --with-gmp
  $ isabelle build_polyml -m64 -s sha1 src --with-gmp

* Windows (Cygwin shell)

  $ isabelle build_polyml -M /cygdrive/c/msys64 -m32 -s sha1 src --with-gmp
  $ isabelle build_polyml -M /cygdrive/c/msys64 -m64 -s sha1 src --with-gmp

* Mac OS X:

  $ isabelle build_polyml -m32 -s sha1 src --with-gmp
  $ isabelle build_polyml -m64 -s sha1 src --with-gmp


Building libgmp on Mac OS X
===========================

The GNU Multiple Precision Arithmetic Library is not included in Mac OS X
by default, but it can be built from sources as follows.

* Download:

  $ curl https://gmplib.org/download/gmp/gmp-6.1.2.tar.xz | xz -dc | tar xf -
  $ cd gmp-6.1.2

* build x86-darwin:

  $ make distclean
  $ env ABI=32 ./configure --enable-cxx --build=core2-apple-darwin"$(uname -r)" --libdir=/usr/local/lib32
  $ make && make check
  $ sudo make install

* build x86_64-darwin:

  $ make distclean
  $ ./configure --enable-cxx --build=core2-apple-darwin"$(uname -r)"
  $ make && make check
  $ sudo make install


        Makarius
        10-Feb-2018
